package com.example.test.multithread._01Thread;

/*
âœ… ìš”êµ¬ì‚¬í•­
- Thread í•˜ë‚˜ ìƒì„±í•´ì„œ ë¬´í•œ ë£¨í”„ ì•ˆì—ì„œ "ğŸŸ¢ ë¡œê·¸ ê¸°ë¡ ì¤‘..."ì„ 1ì´ˆë§ˆë‹¤ ì¶œë ¥
- Thread.sleep(1000) ì‚¬ìš©
- ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ 5ì´ˆ ë’¤ interrupt() í˜¸ì¶œ
- ìŠ¤ë ˆë“œëŠ” InterruptedException ë°œìƒ ì‹œ interrupt ìƒíƒœ ë³µêµ¬í•˜ê³ ,
  isInterrupted()ë¥¼ ê°ì§€í•´ ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ê°€ ì¢…ë£Œ ë©”ì„¸ì§€ ì¶œë ¥

ğŸ“Œ interrupt() ê°œë… ì •ë¦¬
- interrupt()ëŠ” ìŠ¤ë ˆë“œì—ê²Œ "ì¤‘ë‹¨í•´ë‹¬ë¼"ëŠ” ìš”ì²­ì„ ë³´ë‚´ëŠ” ì‹ í˜¸ì„
- sleep(), wait(), join() ê°™ì€ ì°¨ë‹¨ ìƒíƒœì¼ ë•ŒëŠ” ì¦‰ì‹œ InterruptedExceptionì„ ë˜ì§
- í•˜ì§€ë§Œ JVMì€ ì˜ˆì™¸ë¥¼ ë˜ì§„ ë™ì‹œì— interrupt ìƒíƒœ í”Œë˜ê·¸ë¥¼ falseë¡œ ì´ˆê¸°í™”í•¨
  â†’ "ì¸í„°ëŸ½íŠ¸ ìš”ì²­ ìˆì—ˆë‹¤ëŠ” í‘œì‹œ"ê°€ ì‚¬ë¼ì§€ëŠ” ê²ƒì„

ğŸ“Œ ì™œ ìƒíƒœë¥¼ ë‹¤ì‹œ trueë¡œ ë³µêµ¬í•´ì•¼ í• ê¹Œ?
- ì˜ˆì™¸ë¥¼ catchí•œ ì´ ì½”ë“œì—ì„œë§Œ ì¢…ë£Œí•˜ë©´ ê´œì°®ìŒ (ë³µêµ¬ ë¶ˆí•„ìš”)
- í•˜ì§€ë§Œ ì´ ìŠ¤ë ˆë“œê°€ ê³„ì† ë£¨í”„ë¥¼ ëŒê³  ìˆê³ ,
  ì¢…ë£Œ ì—¬ë¶€ë¥¼ **isInterrupted()** ë“±ìœ¼ë¡œ í™•ì¸í•˜ëŠ” êµ¬ì¡°ë¼ë©´
  interrupt ìƒíƒœë¥¼ ë‹¤ì‹œ trueë¡œ **ë³µêµ¬í•˜ì§€ ì•Šìœ¼ë©´ ì¢…ë£Œ ì¡°ê±´ì´ ì‚¬ë¼ì§**
- ë”°ë¼ì„œ **ìƒìœ„ ì½”ë“œ(ë£¨í”„ë‚˜ í˜¸ì¶œì)ê°€ ì¤‘ë‹¨ ìš”ì²­ì„ ì¸ì§€í•  ìˆ˜ ìˆë„ë¡ ë³µêµ¬í•´ì•¼ í•¨**
*/

public class InterruptExercise {
    public static void main(String[] args) {
        Thread logger = new Thread(() -> {
            // ğŸ” ìŠ¤ë ˆë“œê°€ ì¤‘ë‹¨(interrupted)ë˜ì§€ ì•Šì€ ë™ì•ˆ ë£¨í”„ ìˆ˜í–‰
            while (!Thread.currentThread().isInterrupted()) {
                try {
                    System.out.println("ğŸŸ¢ ë¡œê·¸ ê¸°ë¡ ì¤‘...");
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    System.out.println("âš ï¸ InterruptedException ë°œìƒ");

                    /*
                    âœ… ì´ ì‹œì ì—ì„œ interrupt í”Œë˜ê·¸ëŠ” falseë¡œ ì´ˆê¸°í™”ëœ ìƒíƒœì„
                    ì™œëƒë©´ JVMì´ "ì˜ˆì™¸ ë˜ì¡Œìœ¼ë‹ˆ, ì¤‘ë‹¨ ìš”ì²­ì€ ì²˜ë¦¬ëì§€?"ë¼ê³  ê°„ì£¼í•´ì„œ ì§€ì›Œë²„ë¦¼

                    âœ… í•˜ì§€ë§Œ ì´ ì½”ë“œì—ì„œ ë£¨í”„ê°€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤ë©´,
                    ìœ„ìª½ ë£¨í”„ ì¡°ê±´ì¸ isInterrupted()ëŠ” ê³„ì† falseë¡œ í‰ê°€ë¼ì„œ
                    ë¬´í•œ ë£¨í”„ì— ë¹ ì§ˆ ìˆ˜ ìˆìŒ

                    âœ… ë”°ë¼ì„œ "ì¤‘ë‹¨ ìš”ì²­ì´ ìˆì—ˆì–´"ë¼ëŠ” ì‚¬ì‹¤ì„ ë‹¤ì‹œ í‘œì‹œí•˜ê¸° ìœ„í•´
                    í˜„ì¬ ìŠ¤ë ˆë“œì˜ interrupt ìƒíƒœë¥¼ trueë¡œ ë³µêµ¬í•˜ëŠ” ê²ƒì„
                    */
                    Thread.currentThread().interrupt(); // ğŸ”„ ìƒíƒœ ë³µêµ¬!
                }
            }

            // ë£¨í”„ ì¢…ë£Œ í›„ ë©”ì„¸ì§€ ì¶œë ¥
            System.out.println("ğŸŸ¥ ì•ˆì „í•˜ê²Œ ë£¨í”„ ì¢…ë£Œë¨");
        });

        logger.start();

        try {
            Thread.sleep(5000); // ë©”ì¸ ìŠ¤ë ˆë“œê°€ 5ì´ˆ ëŒ€ê¸°
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt(); // ë©”ì¸ ìŠ¤ë ˆë“œë„ ë³µêµ¬ ìŠµê´€í™”
        }

        // ğŸ‘‡ logger ìŠ¤ë ˆë“œì—ê²Œ ì¤‘ë‹¨ ìš”ì²­ (interrupt ì‹ í˜¸ ì „ë‹¬)
        logger.interrupt();
    }
}


